# ADR-20260302-005: which-key.nvimの導入

- **Phase**: 1
- **Status**: accepted
- **Date**: 2026-03-02

## Context

Vim操作の学習段階にあり、利用可能なキーマップをリアルタイムで表示する補助が必要。
また、今後プラグインが増えるにつれキーマップが増えるため、グループで整理する基盤が必要。

## Decision

**which-key.nvim** v3を導入する。

設定方針:
- 既存のLSPキーマップ（`desc`付き）は自動検出に任せる
- グループラベル（Find, Git, Code, Buffer, Window）のみ手動定義
- 組み込みpresets（operators, motions, text_objects等）は全て有効のままVim学習を補助
- `<leader>?` でバッファローカルキーマップ一覧を表示

## Alternatives

- **導入しない**: キーマップを暗記する方法。学習コストが高い
- **キーマップをドキュメントで管理**: 参照が手間で実用性が低い

## Consequences

- `<Space>` を押して200ms待つとキーマップ一覧がポップアップ表示される
- キーマップに `desc` を付ける慣習が定着し、ドキュメント代わりになる
- 操作に慣れればポップアップを待たずに高速入力できる（補助輪としての設計）
