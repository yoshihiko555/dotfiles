version: "3"

tasks:
  # ====================
  # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
  # ====================
  status:
    desc: ç¾åœ¨ã®ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯çŠ¶æ…‹ã‚’ç¢ºèª
    cmds:
      - |
        echo "ğŸ“ Shell:"
        ls -la ~/.zshrc ~/.zprofile 2>/dev/null || echo "  (not linked)"
        echo ""
        echo "ğŸ“ Config:"
        ls -la ~/.config/wezterm ~/.config/starship ~/.config/mise ~/.config/sheldon 2>/dev/null || echo "  (not linked)"
        echo ""
        echo "ğŸ“ Claude:"
        ls -la ~/.claude 2>/dev/null || echo "  (not linked)"
        echo ""
        echo "ğŸ“ Codex:"
        ls -la ~/.codex 2>/dev/null || echo "  (not linked)"
        echo ""
        echo "ğŸ“ Tmux:"
        ls -la ~/.tmux.conf 2>/dev/null || echo "  (not linked)"
        echo ""
        echo "ğŸ“ Alfred:"
        ls -la ~/Dropbox/02_Private/08_Settings/02_Alfred/Alfred.alfredpreferences/workflows/user.workflow.C9692AD7-2800-42B7-8F97-8F8CCD1CC88E 2>/dev/null || echo "  (not linked)"

  brew:
    desc: Homebrew ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    cmds:
      - bash {{.ROOT_DIR}}/scripts/install-brew.sh
      - brew bundle --file={{.ROOT_DIR}}/Brewfile

  edit:
    desc: dotfiles ã‚’ VS Code ã§é–‹ã
    cmds:
      - code {{.ROOT_DIR}}

  mcp-init:
    desc: ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« .mcp.json ã‚’ã‚³ãƒ”ãƒ¼
    cmds:
      - |
        if [ -f .mcp.json ]; then
          echo "âš ï¸  .mcp.json already exists. Use 'task mcp-show' to view template."
        else
          cp {{.ROOT_DIR}}/shared/mcp.template.json .mcp.json
          echo "âœ… .mcp.json created. Edit as needed."
        fi

  mcp-show:
    desc: MCP ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å†…å®¹ã‚’è¡¨ç¤º
    cmds:
      - cat {{.ROOT_DIR}}/shared/mcp.template.json

  clean-claude:
    desc: Claude Code ã®ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
    cmds:
      - bash {{.ROOT_DIR}}/scripts/clean-claude.sh

  clean-claude-dry:
    desc: Claude Code ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚° ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã® dry-run
    cmds:
      - bash {{.ROOT_DIR}}/scripts/clean-claude.sh --dry-run
